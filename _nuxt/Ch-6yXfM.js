import{o as k,I as V,f as O,E as G,b as K,A as C,T as M,c as g}from"./BboEKukF.js";import{r as f,L as x,J as d,d as E,P as N,o as R,E as H,M as D,F as q}from"./YKJGr53e.js";import{d as J,p as z}from"./Be8J6HL0.js";import{s as Q}from"./BIqF7sE6.js";import{k as U}from"./Djmrkajt.js";let F=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function S(t){var u,n;let e=(u=t.innerText)!=null?u:"",o=t.cloneNode(!0);if(!(o instanceof HTMLElement))return e;let a=!1;for(let i of o.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))i.remove(),a=!0;let r=a?(n=o.innerText)!=null?n:"":e;return F.test(r)&&(r=r.replace(F,"")),r}function W(t){let u=t.getAttribute("aria-label");if(typeof u=="string")return u.trim();let n=t.getAttribute("aria-labelledby");if(n){let e=n.split(" ").map(o=>{let a=document.getElementById(o);if(a){let r=a.getAttribute("aria-label");return typeof r=="string"?r.trim():S(a).trim()}return null}).filter(Boolean);if(e.length>0)return e.join(", ")}return S(t).trim()}function re(t){let u=f(""),n=f("");return()=>{let e=k(t);if(!e)return"";let o=e.innerText;if(u.value===o)return n.value;let a=W(e).trim().toLowerCase();return u.value=o,n.value=a,a}}let X=Symbol("LabelContext");function Y({slot:t={},name:u="Label",props:n={}}={}){let e=f([]);function o(a){return e.value.push(a),()=>{let r=e.value.indexOf(a);r!==-1&&e.value.splice(r,1)}}return x(X,{register:o,slot:t,name:u,props:n}),d(()=>e.value.length>0?e.value.join(" "):void 0)}let w=Symbol("GroupContext"),ae=E({name:"SwitchGroup",props:{as:{type:[Object,String],default:"template"}},setup(t,{slots:u,attrs:n}){let e=f(null),o=Y({name:"SwitchLabel",props:{htmlFor:d(()=>{var r;return(r=e.value)==null?void 0:r.id}),onClick(r){e.value&&(r.currentTarget.tagName==="LABEL"&&r.preventDefault(),e.value.click(),e.value.focus({preventScroll:!0}))}}}),a=U({name:"SwitchDescription"});return x(w,{switchRef:e,labelledby:o,describedby:a}),()=>C({theirProps:t,ourProps:{},slot:{},slots:u,attrs:n,name:"SwitchGroup"})}}),ne=E({name:"Switch",emits:{"update:modelValue":t=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,optional:!0},form:{type:String,optional:!0},name:{type:String,optional:!0},value:{type:String,optional:!0},id:{type:String,default:null},disabled:{type:Boolean,default:!1},tabIndex:{type:Number,default:0}},inheritAttrs:!1,setup(t,{emit:u,attrs:n,slots:e,expose:o}){var a;let r=(a=t.id)!=null?a:`headlessui-switch-${V()}`,i=N(w,null),[p,v]=J(d(()=>t.modelValue),l=>u("update:modelValue",l),d(()=>t.defaultChecked));function b(){v(!p.value)}let L=f(null),c=i===null?L:i.switchRef,$=Q(d(()=>({as:t.as,type:n.type})),c);o({el:c,$el:c});function B(l){l.preventDefault(),b()}function T(l){l.key===g.Space?(l.preventDefault(),b()):l.key===g.Enter&&z(l.currentTarget)}function A(l){l.preventDefault()}let m=d(()=>{var l,s;return(s=(l=k(c))==null?void 0:l.closest)==null?void 0:s.call(l,"form")});return R(()=>{H([m],()=>{if(!m.value||t.defaultChecked===void 0)return;function l(){v(t.defaultChecked)}return m.value.addEventListener("reset",l),()=>{var s;(s=m.value)==null||s.removeEventListener("reset",l)}},{immediate:!0})}),()=>{let{name:l,value:s,form:j,tabIndex:h,...y}=t,I={checked:p.value},P={id:r,ref:c,role:"switch",type:$.value,tabIndex:h===-1?0:h,"aria-checked":p.value,"aria-labelledby":i==null?void 0:i.labelledby.value,"aria-describedby":i==null?void 0:i.describedby.value,onClick:B,onKeyup:T,onKeypress:A};return D(q,[l!=null&&p.value!=null?D(O,G({features:K.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:p.value,form:j,disabled:y.disabled,name:l,value:s})):null,C({ourProps:P,theirProps:{...n,...M(y,["modelValue","defaultChecked"])},slot:I,attrs:n,slots:e,name:"Switch"})])}}});export{ae as o,re as p,ne as u};
