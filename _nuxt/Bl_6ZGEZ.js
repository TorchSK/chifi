import{_ as k,a as v,b as C,c as P,d as $,e as q}from"./DN1-w6CV.js";import{H as B,A as d,v as m,c as n,e as N,h as i,w as V,k as A,t as D,B as t,D as l,g as p,f as u}from"./YKJGr53e.js";import{u as f}from"./CTAIbY_z.js";import{q as R}from"./CHZsaEkH.js";import"./C3Kc88JK.js";import"./BgjWWMr1.js";import"./BHB5aYOm.js";import"./D7Q_Jaex.js";import"./DqSA5oGD.js";import"./KtzzS9P3.js";import"./BPUoiS4N.js";import"./C-gIM5Qq.js";import"./Di7j-vHa.js";import"./srjAdVVy.js";import"./DxjlTc0-.js";import"./BQkc-AXV.js";import"./B3pqwgWn.js";import"./s3-Ad5Vt.js";import"./DQV5yooY.js";import"./CNb5zuOU.js";const H={class:"flex flex-1 flex-col items-center mx-auto leading-relaxed lg:leading-loose w-full"},I={class:"lg:flex flex-grow w-full max-w-app mb-24"},O={class:"flex flex-grow items-center justify-center"},se={__name:"index",async setup(S){let o,s;const g=B(),{data:a}=([o,s]=d(()=>f("product",()=>R(m().path).findOne())),o=await o,s(),o),{data:x}=([o,s]=d(async()=>f(async()=>{const{data:_}=await g.from("reviews").select("brand, model, elements(data)").eq("brand",m().params.brand).eq("model",m().params.model).eq("elements.type","score"),r=_.filter(e=>e.elements.length).map(e=>e.elements).flat().map(e=>e.data).map(e=>e.score);return r.reduce((e,c)=>e+c,0)/r.length},"$cQfCfNIep4")),o=await o,s(),o);return(_,r)=>{const e=k,c=v,h=C,w=P,y=$,b=q;return n(),N("div",H,[i(e,{doc:t(a)},{default:V(()=>[A(D(t(a).title),1)]),_:1},8,["doc"]),t(a).hero?(n(),l(c,{key:0,hero:t(a).hero},null,8,["hero"])):p("",!0),t(a).images?(n(),l(h,{key:1,images:t(a).images},null,8,["images"])):p("",!0),t(a).labels?(n(),l(w,{key:2,doc:t(a)},null,8,["doc"])):p("",!0),u("div",I,[u("div",O,[i(y,{rating:t(x)},null,8,["rating"])])]),i(b,{class:"mb-12 max-w-app"})])}}};export{se as default};
