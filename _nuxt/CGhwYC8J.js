import{_ as H}from"./C-gIM5Qq.js";import{u as I,a as S,g as V,b as N,m as L}from"./BHB5aYOm.js";import{u as M}from"./BgjWWMr1.js";import{d as O,J as g,r as j,u as q,o as T,M as _,A as J,B as i,c as p,e as A,f as r,F as U,C as G,D as f,w as F,k as B,t as v,g as h,h as C}from"./YKJGr53e.js";import{_ as K}from"./Di7j-vHa.js";import{u as Q}from"./CTAIbY_z.js";import{q as R}from"./CHZsaEkH.js";import"./CNb5zuOU.js";const W={...N,legacyFormat:{type:String,default:null},imgAttrs:{type:Object,default:null}},X=O({name:"NuxtPicture",props:W,emits:["load","error"],setup:(t,a)=>{var y,b;const n=I(),s=S(t),m=g(()=>V(t.src)),x=g(()=>["png","webp","gif","svg"].includes(m.value)),l=g(()=>t.legacyFormat?t.legacyFormat:x.value?"png":"jpeg"),o=g(()=>{var w,k;const e=((w=t.format)==null?void 0:w.split(","))||(m.value==="svg"?["svg"]:(k=n.options.format)!=null&&k.length?[...n.options.format]:["webp"]);return e[0]==="svg"?[{src:t.src}]:(e.includes(l.value)&&e.splice(e.indexOf(l.value),1),e.push(l.value),e.map(z=>{const{srcset:P,sizes:$,src:D}=n.getSizes(t.src,{...s.options.value,sizes:t.sizes||n.options.screens,densities:t.densities,modifiers:{...s.modifiers.value,format:z}});return{src:D,type:`image/${z}`,sizes:$,srcset:P}}))}),c=g(()=>o.value.length-1);if(t.preload){const e={rel:"preload",as:"image",imagesrcset:o.value[0].srcset,nonce:t.nonce,...typeof t.preload!="boolean"&&t.preload.fetchPriority?{fetchpriority:t.preload.fetchPriority}:{}};(b=(y=o.value)==null?void 0:y[0])!=null&&b.sizes&&(e.imagesizes=o.value[0].sizes),M({link:[e]})}const d={...t.imgAttrs,"data-nuxt-pic":""};for(const e in a.attrs)e in N&&!(e in d)&&(d[e]=a.attrs[e]);const u=j(),E=q().isHydrating;return T(()=>{u.value&&(u.value.complete&&E&&(u.value.getAttribute("data-error")?a.emit("error",new Event("error")):a.emit("load",new Event("load"))),u.value.onload=e=>{a.emit("load",e)},u.value.onerror=e=>{a.emit("error",e)},L("nuxt-picture"))}),()=>_("picture",null,[...o.value.slice(0,-1).map(e=>_("source",{type:e.type,sizes:e.sizes,srcset:e.srcset})),_("img",{ref:u,...s.attrs.value,...d,src:o.value[c.value].src,sizes:o.value[c.value].sizes,srcset:o.value[c.value].srcset})])}}),Y={key:0,class:"mb-12 lg:mb-32"},Z={class:"flex items-center mb-2 gap-2"},ee={class:"relative rounded-xl overflow-hidden shadow-xl mb-4"},te={class:"w-full select-none relative z-[1]"},se=r("div",{class:"absolute inset-0 bg-gray-900 opacity-0 z-9"},null,-1),ae={class:"lg:w-full"},oe={class:"text-xl lg:text-5xl my-2 lg:my-8 font-bold"},ie={class:"text-base leading-relaxed lg:leading-loose lg:text-xl"},_e={__name:"Hero",props:["image","bg","type","link","subtitle","title","text","desc"],async setup(t){let a,n;const{data:s}=([a,n]=J(()=>Q("hero",()=>R("/blog").where({isHero:!0}).findOne())),a=await a,n(),a);return(m,x)=>{const l=H,o=X,c=K;return i(s)?(p(),A("article",Y,[r("div",Z,[(p(!0),A(U,null,G(i(s).labels,d=>(p(),f(l,{class:"capitalize"},{default:F(()=>[B(v(d),1)]),_:2},1024))),256))]),r("div",ee,[r("div",te,[m.$device.isDesktop?(p(),f(o,{key:0,src:i(s).hero,sizes:"100vw lg:1500px",format:"webp",densities:"x1",width:"1500",height:"660"},null,8,["src"])):h("",!0),m.$device.isMobile?(p(),f(o,{key:1,src:i(s).cover,sizes:"100vw lg:1500px",format:"webp",densities:"x1",width:"660",height:"660"},null,8,["src"])):h("",!0)]),se,C(c,{to:i(s).link,class:"block absolute inset-0 z-20"},null,8,["to"])]),r("section",ae,[r("h1",oe,[C(c,{class:"text leading-normal",to:i(s).link},{default:F(()=>[B(v(i(s).title),1)]),_:1},8,["to"])]),r("p",ie,v(i(s).description),1)])])):h("",!0)}}};export{_e as default};
