const __vite__fileDeps=["./CaOL1mkv.js","./YKJGr53e.js","./rFhTn0FA.js","./Button.BFq0R57c.css","./s3-Ad5Vt.js","./BejFaCWX.js","./srjAdVVy.js","./DxjlTc0-.js","./BQkc-AXV.js","./Icon.hW_xHfAi.css","./Di7j-vHa.js","./KtzzS9P3.js","./BboEKukF.js","./BIqF7sE6.js","./Ch-6yXfM.js","./Be8J6HL0.js","./Djmrkajt.js","./BGcilHqP.js","./C3Kc88JK.js","./BgjWWMr1.js","./BHB5aYOm.js","./BD8WLPty.js","./D7Q_Jaex.js","./CRYKUuUC.js","./Bkkvs3X8.js","./CTAIbY_z.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{v as k,H as C,A as R,L as f,c as n,e as i,B as t,f as x,h as s,w as N,k as c,g as V,Y as A,_ as B}from"./YKJGr53e.js";import E from"./srjAdVVy.js";import{_ as L}from"./Di7j-vHa.js";import{_ as P}from"./BejFaCWX.js";import{u as S}from"./s3-Ad5Vt.js";import{u as T}from"./Bkkvs3X8.js";import{u as $}from"./DbBndOjo.js";import"./DxjlTc0-.js";import"./BQkc-AXV.js";import"./KtzzS9P3.js";import"./BboEKukF.js";import"./BIqF7sE6.js";import"./Ch-6yXfM.js";import"./Be8J6HL0.js";import"./Djmrkajt.js";import"./BGcilHqP.js";import"./C3Kc88JK.js";import"./BgjWWMr1.js";import"./BHB5aYOm.js";import"./BD8WLPty.js";import"./D7Q_Jaex.js";import"./rFhTn0FA.js";import"./CRYKUuUC.js";import"./CTAIbY_z.js";const I=A(()=>B(()=>import("./CaOL1mkv.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25]),import.meta.url).then(m=>m.default||m)),q={class:"flex-1"},z={key:0,class:"border-y dark:border-gray-700 py-2 lg:p-5 mb-2"},D={class:"max-w-app mx-auto flex gap-2"},F={class:"w-full max-w-app mx-auto mb-24"},ce={__name:"index",async setup(m){let r,u;const p=k(),d=S(),v=C(),{data:e}=([r,u]=R(()=>T("/api/reviews/layout",{method:"POST",body:{username:p.params.username,brand:p.params.brand,model:p.params.model},deep:!0},"$wqF2ZCNRRa")),r=await r,u(),r);$({title:e.value.title+" - Rechifi",ogTitle:e.value.title+" - Rechifi",description:e.value.description,ogDescription:e.value.description,ogImage:e.value.cover});const h=e.value.elements.filter(a=>a.type=="section");f("nav",h),f("date",e.value.created_at);const _=async a=>{const{error:o}=await v.from("reviews").update({published:a}).eq("id",e.value.id);o||(e.value.published=a)};return(a,o)=>{const l=E,b=L,y=P,w=I;return n(),i("div",q,[t(d)&&t(e).profile_id==t(d).id?(n(),i("div",z,[x("div",D,[s(b,{to:"/reviews/"+t(e).profiles.username+"/"+t(e).brand+"/"+t(e).model+"/edit",class:"bg-blue-200 rounded px-4 py-2.5 text-sm flex items-center"},{default:N(()=>[s(l,{name:"ph:pencil-simple-thin",class:"w-4 h-4 mr-2"}),c(" Edit ")]),_:1},8,["to"]),t(e).published?(n(),i("button",{key:0,class:"bg-red-200 rounded px-4 py-2.5 text-sm flex items-center",onClick:o[0]||(o[0]=g=>_(!1))},[s(l,{name:"ph:x-thin",class:"w-4 h-4 mr-2"}),c(" Unpublish ")])):(n(),i("button",{key:1,class:"bg-green-200 rounded px-4 py-2.5 text-sm flex items-center",onClick:o[1]||(o[1]=g=>_(!0))},[s(l,{name:"ph:upload-thin",class:"w-4 h-4 mr-2"}),c(" Publish ")]))])])):V("",!0),x("div",F,[s(y,{elements:t(e).elements},null,8,["elements"]),s(w)])])}}};export{ce as default};
